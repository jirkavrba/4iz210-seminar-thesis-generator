(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.loading?n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background"}),t._m(0)]):t._e(),t._m(1),n("hr"),n("div",{staticClass:"container"},[n("h2",{class:"title is-3 "+(t.inputs.length>=3?"has-text-success":"")},[t._v("Vstupní dokumenty")]),n("p",[t._v("3 - 5 vstupních dokumentů, ze kterých se bude celá semestrálka generovat.")]),t.inputs.length<5?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"textarea",domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),n("button",{staticClass:"button is-info mt-2",attrs:{disabled:0===t.input.trim().length},on:{click:function(e){return t.addInput()}}},[t._v("Přidat dokument ")])]):t._e()]),n("div",{staticClass:"my-6 columns is-centered"},t._l(t.inputs,(function(e,a){return n("div",{key:a,staticClass:"column is-2"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"card-header-title"},[t._v("Dokument "+t._s(a+1))])]),n("div",{staticClass:"card-content",domProps:{innerHTML:t._s(t.highlight(e))}}),n("div",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",attrs:{href:"#"},on:{click:function(e){return t.removeInput(a)}}},[t._v("Smazat")])])])])})),0),t.inputs.length>=3?n("div",[n("hr"),n("div",{staticClass:"container"},[n("h2",{class:"title is-3 "+(t.query.length>=5?"has-text-success":"")},[t._v("Hledaný dotaz")]),n("p",[t._v("Minimálně 5 slov, které se budou hledat v dokumentech.")]),n("p",[t._v('Ke každému ze slov je potřeba doplnit varianty (např. "baterií" je varianta slova "baterie") a zkontrolovat, že všechny výskyty jsou správně podbarveny.')]),t.query.length<8?n("div",{staticClass:"mt-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.term,expression:"term"}],staticClass:"input is-inline",domProps:{value:t.term},on:{input:function(e){e.target.composing||(t.term=e.target.value)}}}),n("button",{staticClass:"button is-info ml-2 is-inline",attrs:{disabled:0===t.term.trim().length},on:{click:function(e){return t.addTerm()}}},[t._v("Přidat slovo ")])]):t._e(),n("div",{staticClass:"mt-3 mb-6 columns is-centered"},t._l(t.query,(function(e,a){return n("div",{key:a,staticClass:"column is-2 "},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"card-header-title"},[t._v(t._s(e.term))])]),n("div",{staticClass:"card-content"},[0===e.variations.length?n("div",{},[t._v("Žádné varianty slova")]):n("div",t._l(e.variations,(function(e,r){return n("div",{key:r},[n("b",{staticClass:"is-clickable has-text-danger",on:{click:function(e){return t.removeVariation(a,r)}}},[t._v("×")]),t._v(" "+t._s(e)+" ")])})),0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.variation,expression:"variation"}],staticClass:"input is-small mt-2",domProps:{value:t.variation},on:{input:function(e){e.target.composing||(t.variation=e.target.value)}}}),n("button",{staticClass:"button is-small is-fullwidth mt-1",attrs:{disabled:0===t.variation.trim().length},on:{click:function(e){return t.addVariation(a)}}},[t._v("Přidat variantu ")])]),n("div",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeTerm(a)}}},[t._v("Smazat")])])])])})),0)])]):t._e(),t.inputs.length>=3&&t.query.length>=5?n("div",[n("hr"),n("div",{staticClass:"container"},[n("h2",{class:"title is-3 "+(5===t.patterns.length?"has-text-success":"")},[t._v("Regulární výrazy")]),n("p",[t._v("5 regulárních výrazů, které budou z dokumentů extrahovat informace.")]),n("button",{staticClass:"button is-info my-5",attrs:{disabled:5===t.patterns.length},on:{click:function(e){return t.addPattern()}}},[t._v("Přidat regulární výraz")]),0===t.patterns.length?n("p",{staticClass:"has-text-grey-light"},[t._v("Zatím nejsou přidané žádné regulární výrazy")]):n("div",{staticClass:"mb-5"},[n("div",{staticClass:"tabs is-centered"},[n("ul",t._l(t.patterns,(function(e,a){return n("li",{key:a,class:t.pattern===a?"is-active":""},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.pattern=a}}},[t._v(" Výraz "+t._s(a+1)+" "),0!==e.regex.trim().length?n("code",{staticClass:"ml-2"},[t._v(t._s(e.regex))]):t._e()])])})),0)]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("label",{staticClass:"label"},[t._v("Výraz:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.patterns[t.pattern].regex,expression:"patterns[pattern].regex"}],staticClass:"input",domProps:{value:t.patterns[t.pattern].regex},on:{input:function(e){e.target.composing||t.$set(t.patterns[t.pattern],"regex",e.target.value)}}}),n("label",{staticClass:"label mt-2"},[t._v("Popis výrazu:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.patterns[t.pattern].description,expression:"patterns[pattern].description"}],staticClass:"input",domProps:{value:t.patterns[t.pattern].description},on:{input:function(e){e.target.composing||t.$set(t.patterns[t.pattern],"description",e.target.value)}}}),n("label",{staticClass:"label mt-2"},[t._v("XML šablona:")]),n("button",{staticClass:"button is-danger mb-2",on:{click:function(e){t.patterns[t.pattern].xml.children=[]}}},[t._v("Reset xml")]),n("XmlBuilder",{attrs:{root:t.patterns[t.pattern].xml,fixed:!0}}),n("p",[t._v("Není možné smazat pouze jeden element / komplexní typ, je potřeba resetova celé schéma.")]),t._m(2)],1),n("div",{staticClass:"column"},[n("div",[t._v(" Náhled výstupu dotazu pro "),n("div",{staticClass:"select is-small"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.reference,expression:"reference"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.reference=e.target.multiple?n:n[0]}}},t._l(t.inputs,(function(e,a){return n("option",{key:a,domProps:{value:a}},[t._v("Dokument "+t._s(a+1))])})),0)])]),n("div",{staticClass:"mt-3"},[n("code",[t._v(" "+t._s(t.patternReference())+" ")])])])])])])]):t._e(),t.inputs.length>=3&&t.query.length>=5&&5===t.patterns.length?n("div",[n("hr"),n("div",{staticClass:"hero my-6"},[t._m(3),n("hr"),n("div",{staticClass:"hero-body has-text-centered"},[n("label",{staticClass:"label"},[t._v("xname:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.xname,expression:"xname"}],staticClass:"input is-inline",attrs:{type:"text",maxlength:"6"},domProps:{value:t.xname},on:{input:function(e){e.target.composing||(t.xname=e.target.value)}}}),n("br"),n("small",[t._v("(slouží pouze pro pojmenování výsledného souboru)")])]),n("hr"),n("div",{staticClass:"hero-buttons"},[n("button",{staticClass:"button is-large is-success",attrs:{disabled:!/[a-z0-9]{6}/g.test(t.xname)},on:{click:function(e){return t.callGenerator()}}},[t._v("Vygenerovat semestrálku")])])])]):t._e(),n("hr"),n("footer",{staticClass:"has-text-centered has-text-grey-light"},[t._v(" Made with ♥ and Kotlin ")])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-content has-text-centered"},[n("h1",{staticClass:"title is-1 has-text-primary"},[t._v("Generuji semestrálku...")]),n("p",[t._v("Nemělo by to trvat déle než pár minut")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container is-flex is-align-items-center"},[a("img",{attrs:{src:n("cd61"),alt:"Wicked"}}),a("div",{staticClass:"is-flex is-flex-direction-column py-6 ml-6"},[a("h1",{staticClass:"title is-1"},[t._v("Semestrálka z 4iz210 za 60 sekund"),a("span",{staticClass:"has-text-grey-light"},[t._v("*")])]),a("small",{staticClass:"has-text-grey-light"},[t._v("* Well yes, but actually no")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",[t._v("Pro referenci group ve výrazu použij syntaxi "),n("code",[t._v("(1)")]),t._v(" pro první skupinu, "),n("code",[t._v("(2)")]),t._v(" pro druhou...")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero-body has-text-centered"},[n("h2",{staticClass:"title is-2"},[t._v(" Tento generátor mě stál poměrně hodně času a úsilí."),n("br"),t._v(" Je to zcela dobrovolné, ale můžeš mi přispět na pivo 🍺 ")]),n("div",{staticClass:"hero buttons"},[n("a",{staticClass:"button is-info is-large mt-6",attrs:{href:"https://paypal.me/jirivrba",target:"_blank"}},[t._v("PayPal")])])])}],s=n("1da1"),o=(n("96cf"),n("a434"),n("c1f9"),n("d81d"),n("d3b7"),n("e9c4"),n("9911"),n("99af"),n("b0c0"),n("a15b"),n("a630"),n("3ca3"),n("ac1f"),n("a1f0"),n("5319"),n("5b81"),n("25f0"),n("4de4"),n("1276"),n("498a"),n("7db0"),n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification",staticStyle:{border:"1px solid black"}},[t.fixed?n("code",[t._v("<"+t._s(t.root.name)+">")]):n("div",[n("code",[t._v("<")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.root.name,expression:"root.name"}],staticClass:"input is-inline is-small is-family-monospace",domProps:{value:t.root.name},on:{input:function(e){e.target.composing||t.$set(t.root,"name",e.target.value)}}}),n("code",[t._v(">")])]),n("div",{staticClass:"tag"},[t._v(t._s(t.root.type))]),"complex"!==t.root.type?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.root.value,expression:"root.value"}],staticClass:"input",domProps:{value:t.root.value},on:{input:function(e){e.target.composing||t.$set(t.root,"value",e.target.value)}}})]):t._l(t.root.children,(function(t,e){return n("XmlBuilder",{key:e,attrs:{root:t,fixed:!1}})})),"complex"===t.root.type?n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-info is-small",on:{click:function(e){return t.root.children.push({type:"complex",name:"",value:"",children:[]})}}},[t._v("complex")]),n("button",{staticClass:"button is-link is-small",on:{click:function(e){return t.root.children.push({type:"string",name:"",value:"",children:[]})}}},[t._v("string")]),n("button",{staticClass:"button is-link is-small",on:{click:function(e){return t.root.children.push({type:"integer",name:"",value:"",children:[]})}}},[t._v("integer")])]):t._e(),n("code",[t._v("</"+t._s(t.root.name)+">")])],2)}),l=[],c={name:"XmlBuilder",props:["root","fixed"],mounted:function(){console.log(this.root)}},u=c,d=n("2877"),p=Object(d["a"])(u,o,l,!1,null,null,null),v=p.exports,m={name:"App",components:{XmlBuilder:v},data:function(){return{input:"",inputs:[],term:"",variation:"",query:[],pattern:0,reference:0,patterns:[],xname:"",loading:!1}},methods:{addInput:function(){this.inputs.push(this.input),this.input=""},removeInput:function(t){this.inputs.splice(t,1)},addTerm:function(){this.query.push({term:this.term.toLowerCase(),variations:[]}),this.term=""},removeTerm:function(t){this.query.splice(t,1)},addVariation:function(t){this.query[t].variations.push(this.variation.toLowerCase()),this.variation=""},removeVariation:function(t,e){this.query[t].variations.splice(e,1)},addPattern:function(){this.patterns.push({regex:"",description:"",xml:{name:"SHOPITEM",type:"complex",value:"",children:[]}}),this.pattern=this.patterns.length-1},callGenerator:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=Object.fromEntries(t.query.map((function(t){return[t.term,t.variations]}))),a={xname:t.xname,inputs:t.inputs,query:n,patterns:t.patterns},e.next=5,fetch("/generator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){window.open(t.link)})).catch((function(t){console.error(t),window.alert("Při generování semestrálky došlo k chybě, která byla zalogována do konzole prohlížeče.")}));case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},patternReference:function(){var t=this.inputs[this.reference],e=this.patterns[this.pattern],n=function t(e){return 0===e.children.length?"<".concat(e.name,">").concat(e.value,"</").concat(e.name,">"):"<".concat(e.name,">").concat(e.children.map((function(e){return t(e)})).join(""),"</").concat(e.name,">")},a=n(e.xml),r=Array.from(t.matchAll(e.regex));return 0===r.length?"Regulární výraz nevrátil žádné výsledky!":r[0].reduce((function(t,e,n){return t.replaceAll("(".concat(n,")"),e.toString())}),a)},highlight:function(t){var e=this;return t.split(/(\s+|[,.])/).filter((function(t){return 0!==t.trim().length})).map((function(t){var n=t.toLowerCase(),a=e.query.find((function(t){return t.term===n||t.variations.includes(n)}));if(null===a)return t;var r=["#ffff00","#00ff00","#00ffff","#ff00ff","#ff9900","#9900ff","#0099ff","#99ff00"],i=r[e.query.indexOf(a)];return'<span style="background: '.concat(i,'">').concat(t,"</span>")})).join(" ")}}},f=m,h=Object(d["a"])(f,r,i,!1,null,null,null),g=h.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(g)}}).$mount("#app")},cd61:function(t,e,n){t.exports=n.p+"img/wicked.f55194e3.png"}});
//# sourceMappingURL=app.34a0ee57.js.map